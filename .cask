#!/usr/bin/env bash
# shellcheck disable=SC1090
source "${HOME}/Projects/dotfiles/bin/echos.sh"

# Start
bot "Starting $(basename "$0")"

# homebrew options
export HOMEBREW_CASK_OPTS=""

# Ask for the administrator password upfront
sudo -v

# setup taps
running "Setting up taps... "
brew tap caskroom/fonts
brew tap caskroom/cask
ok


# Install Caskroom
running "Installing caskroom... "
# brew install brew-cask
brew tap caskroom/versions
ok

# Install packages
apps=(
    bettertouchtool
    eclipse-ide
    eclipse-java
    firefox
    font-fira-code
    font-source-code-pro
    intellij-idea-ce
    java
    karabiner-elements
    qlstephen # Preview plain text files without or with unknown file extension. Example: README, CHANGELOG, index.styl, etc.
    sourcetree
    virtualbox
    virtualbox-extension-pack
    visual-studio-code
)

running "Installing apps... "
brew cask install  --require-sha "${apps[@]}"
ok

running "Installing apps that don't have checksum 256 defined..."
brew cask install highsierramediakeyenabler # disable annoying behaviour of media keys for Safari 
brew cask install dropbox
brew cask install google-chrome
brew cask install skype
ok

running "Cleaning up unneeded files..."
brew cleanup
ok

# Finished
bot "$(basename "$0") complete."
